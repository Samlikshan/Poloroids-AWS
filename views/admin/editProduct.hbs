<link rel="stylesheet" href="/stylesheets/admin/addProduct.css">
<div class="add-product-container">
    <a href="/admin/products" class="back-link">‚Üê Back to product list</a>
    <h1>Edit Product</h1>

    <form class="product-form" action="/admin/edit-product/{{product._id}}" method="post" enctype="multipart/form-data">
        <!-- Description Section -->
        <div class="section">
            {{!-- <h2>Description</h2> --}}
            <div class="form-group">
                <label for="productName">Product Name</label>
                <input type="text" id="productName" value="{{product.productName}}" name="productName" >
            </div>

            <div class="form-group">
                <label for="description">Product Description</label>
                <textarea id="description" name="productDescription" >{{product.productDescription}}</textarea>
            </div>
        </div>

        <!-- Category Section -->
        <div class="section">
            {{!-- <h2>Categories</h2>
            {{#each category}}
            <div class="form-group">
                <label for="productCategory1">{{categoryName}}</label>
                <select id="productCategory1" name="{{categoryName}}">
                    <option>None</option>
                    {{#each subCategories}}
                    <option>{{this}}</option>
                    {{/each}}
                </select>
            </div>
            {{/each}} --}}
            <h2>Brand</h2>
            <div class="form-group">

                <select id="productCategory1" name="Brand">
                    <option selected>{{product.brand}}</option>
                    {{#each brands}}
                    <option>{{categoryName}}</option>
                    {{/each}}
                </select>
            </div>
            <h2>Type</h2>
            <div class="form-group">

                <select id="productCategory1" name="Type">
                    <option selected>{{product.type}}</option>
                    {{#each types}}
                    <option>{{categoryName}}</option>
                    {{/each}}
                </select>
            </div>
            <h2>Gears</h2>
            <div class="form-group">

                <select id="productCategory1" name="Gear">
                    <option selected>{{product.gear}}</option>
                    {{#each gears}}
                    <option>{{categoryName}}</option>
                    {{/each}}
                </select>
            </div>
        </div>
        <!-- Price -->
        <div class="section">
            <h2>Price</h2>
            <div class="form-group">
                <input type="number" name="price" value="{{product.price}}" >
            </div>
        </div>

        <!-- Inventory Section -->
        <div class="section">
            <h2>Inventory</h2>

            <div class="form-group">
                <label for="quantity">Quantity</label>
                <input type="number" id="quantity" name="stock" value="{{product.stock}}">
            </div>
        </div>


        <!-- Image Upload Section -->
        <div class="section">
            <h2>Images</h2>

            <div class="image-upload-grid">
                <div class="image-upload-group">
                    <label for="imageUpload1" class="image-upload-label">
                        <img src="/images/products/{{product.mainImage}}" alt="Upload Image">
                        <span>Main Image</span>
                    </label>
                    {{!-- <input type="hidden" name="productImage" value="/images/products/{{product.productImages.[0]}}"> --}}
                    <input type="file" id="imageUpload1" name="mainImage" style="display: none;" accept="image/jpeg, image/png">
                </div>
                {{#each product.additionalImages}}
                <div class="image-upload-group">
                    <label for="imageUpload2" class="image-upload-label">
                        <img src="/images/products/{{this}}" alt="Upload Image">
                        {{!-- <span>Upload Image</span> --}}
                    </label>
                    {{!-- <input type="hidden" name="productImage" value="/images/products/{{product.productImages.[1]}}"> --}}
                    {{!-- <input type="file" id="imageUpload2" style="display: none;" name="replaceImage{{@index}}">
                    --}}
                    <input type="checkbox" name="deleteImage{{@index}}"> Delete this image
                    <input type="file" name="replaceImage{{@index}}" accept="image/jpeg, image/png">
                </div>
                {{/each}}
                <div>
                    <label for="newAdditionalImages">Add New Additional Images:</label>
                    <input type="file" name="newAdditionalImages" id="newAdditionalImages" multiple>
                </div>


                {{!-- <div class="image-upload-group">
                    <label for="imageUpload3" class="image-upload-label">
                        <img src="/images/products/{{product.productImages.[2]}}" alt="Upload Image">
                        <span>Upload Image</span>
                    </label>
                    <input type="file" id="imageUpload3" style="display: none;" name="productImage">
                </div>

                <div class="image-upload-group">
                    <label for="imageUpload4" class="image-upload-label">
                        <img src="/images/products/{{product.productImages.[3]}}" alt="Upload Image">
                        <span>Upload Image</span>
                    </label>
                    <input type="file" id="imageUpload4" style="display: none;" name="productImage">
                </div> --}}
            </div>
        </div>

        <!-- Submit Button -->
        <div class="form-group">
            <button type="submit">Save Product</button>
        </div>
    </form>
</div>

<script src="/javascripts/admin/editProduct.js"></script>
